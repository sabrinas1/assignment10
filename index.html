<!DOCTYPE html>
<html>
    <head>
        <title>API Fun</title>
        <meta charset="UTF-8" />
        <script>
            function getThing() {
                var ajaxRequest = new XMLHttpRequest();

                ajaxRequest.open("GET", "https://collectionapi.metmuseum.org/public/collection/v1/departments", true);

                ajaxRequest.onreadystatechange = getObject();
                ajaxRequest.send();
            }

            function getObject() {
                if (ajaxRequest.readyState == 4 && ajaxRequest.status == 200) {
                    //document.getElementById("thing").innerHTML = ajaxRequest.responseText;
                    departments = JSON.parse(ajaxRequest.responseText);
                    strHTML = "";
                    departments.forEach(function (department) {
                        strHTML += department.departmentId + ": " + department.displayName + "<br/>";
                    })
                    //document.getElementById("thing").innerHTML = JSON.stringify(departments);
                }
                else if (ajaxRequest.readyState == 4 && ajaxRequest.status != 200) {
                    document.getElementById("thing").innerHTML = "Something is wrong: " + ajaxRequest.status;
                }
                else if (ajaxRequest.readyState == 3) {
                    document.getElementById("thing").innerHTML = "Too soon: " + ajaxRequest.status;
                }
            }

        </script>
    </head>

    <body onload="getThing()">
        <div id="thing">Loading...</div>
    </body>
</html>