<!DOCTYPE html>
<html>
    <head>
        <title>API Fun</title>
        <meta charset="UTF-8" />
        <script>
            function getThing() {
                var ajaxRequest = new XMLHttpRequest();

                ajaxRequest.open("GET", "https://collectionapi.metmuseum.org/public/collection/v1/departments", true);

                ajaxRequest.onreadystatechange = function() {
                    if (ajaxRequest.readyState == 4 && ajaxRequest.status == 200) {
                        object = JSON.parse(ajaxRequest.responseText);
                        departments = object.departments;
                        strHTML = "MET DEPARTMENTS: <br/>";
                        for (var i = 1; i <= departments.length; i++) {
                            strHTML += i + ": " + departments[i-1].displayName + "<br/>";
                        }
                        document.getElementById("xml").innerHTML = strHTML;
                    }
                    else if (ajaxRequest.readyState == 4 && ajaxRequest.status != 200) {
                        document.getElementById("xml").innerHTML = "Something is wrong: " + ajaxRequest.status;
                    }
                    else if (ajaxRequest.readyState == 3) {
                        document.getElementById("xml").innerHTML = "Too soon: " + ajaxRequest.status;
                    }
                };
                ajaxRequest.send();
            }

            function fetchThing() {
                var fetchRequest = fetch("https://collectionapi.metmuseum.org/public/collection/v1/departments")
                object = JSON.parse(fetchRequest);
                departments = object.departments;
                strHTML = "MET DEPARTMENTS: <br/>";
                for (var i = 1; i <= departments.length; i++) {
                    strHTML += i + ": " + departments[i - 1].displayName + "<br/>";
                }
                document.getElementById("fetch").innerHTML = strHTML;
            }

            

        </script>
    </head>

    <body>
        <div id="xml" onclick="getThing()">Loading...</div>
        <br/><br/>
        <div id="fetch" onclick="fetchThing()">Loading...</div>
    </body>
</html>